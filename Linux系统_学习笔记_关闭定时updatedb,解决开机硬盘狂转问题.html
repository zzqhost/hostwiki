<html>
  <head>
    <title>关闭定时updatedb,解决开机硬盘狂转问题</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="Stylesheet" type="text/css" href="cssandjs/style.css" />
</head>


<body>


<div id="container">
    <div id="header">张志强的wiki</div>
    <br class="clearfloat" />
    <div id="content">
<p>
<a href="index.html">首页</a>
</p>
<h1 id="toc_1"> 关闭定时updatedb,解决开机硬盘狂转问题</h1>
<div class="toc">
<ul>
<li><a href="#toc_1"> 关闭定时updatedb,解决开机硬盘狂转问题</a>
<ul>
<li><a href="#toc_1.1">1. 现象</a>
<li><a href="#toc_1.2">2. 解决</a>
<li><a href="#toc_1.3">3. 一个建议</a>
</ul>
</ul>
</div>

<h2 id="toc_1.1">1. 现象</h2>
<ul>
<li>
有时刚启动完就会发现硬盘灯总在不停的闪烁。其实这是因为后台有程序在运行。

<li>
运行命令

<ul>
<li>
$top

</ul>
<li>
刷新几次就可以知道系统中都有哪此吃资源的大户了。记下它们的名字再做处理。按“q”键退出top程序。

<li>
在我机器上引起硬盘狂转的是 updatedb.mlocate, 为硬盘文件建立索引，以便于使用locate命令能找到文件。

</ul>

<h2 id="toc_1.2">2. 解决</h2>
<ul>
<li>
由于我几乎从来不用locate命令，我决定降低updatedb的频率。

<li>
通过下面的查找得知,ubuntu中updatedb是由mlocate来定时启动的。

<li>
在/etc搜索updatedb，在/etc/cron.daily下找到mlocate

<li>
只要把这个脚本删了或移到其它位置就可以了。

<li>
我是将它变成每月运行一次。

<ul>
<li>
$ sudo mv /etc/cron.daily/mlocate /etc/cron.monthly/

</ul>
<li>
问题解决啦！

</ul>

<h2 id="toc_1.3">3. 一个建议</h2>
<ul>
<li>
系统变慢时，用top查看最占资源的程序。

</ul>
</div>
    <br class="clearfloat" />


    <div id="disqus_thread"></div>
    <script type="text/javascript" src="cssandjs/javascript/tongjianddisqus.js"></script>

    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    <div id="footer">
            zzqhost&nbsp;&copy;&nbsp;2012-2013&nbsp;
            <a href="http://www.zzqhost.com" target="_blank">www.zzqhost.com</a>
            <br>
            Generated by
            <a href="http://www.vim.org" target="_blank">Vim</a>
            &amp;
            <a href="http://code.google.com/p/vimwiki/" target="_blank">Vimwiki</a>
    </div>

</div>

</body>
</html>
